catSurv
Erin, Alex, Matt, Minhee
4/29/16

************
S4 Cat Class
************
Slots:
guessing, discrimination, answers, priorName, priorParams, lowerBound, upperBound, quadPoints, difficulty, X, Theta.et, poly, integration, estimation, selection, coverage, points

Prototype:
A binary Cat object with three questions. (see Cat-class.R for more info)
(“initialize” method includes validity check)

Validity checks:
- guessing, discrimination, answers, and difficulty must all be the same length (and of length greater than 1)
- discrimination and guessing are not NA
Additional checks for polygamous Cats:
- difficulty slot must be a list (each element of the list corresponds to a question item)
- difficulty values for a given question item must be strictly increasing, and not NA

Getters and Setters:
Getters and setters have been included for the following slots: 
- guessing, discrimination, priorParams, priorName, lowerBound, upperBound, quadPoints, difficulty, poly, integration, estimation, selection, coverage, points
All setters include an argument of “valid” which determines whether to run a validity check on the modified Cat object. Default to TRUE.
All setters take the format: setSlot(object, valid=T)<-value


*********************
Cat Creator Functions
*********************

Functions catBiCreator and catPolyCreator have been included in the package. These functions created lists of Cat objects with randomly assigned values, to allow for robust function testing. (see catBiCreator.R and catPolyCreator.R for more info)

TO DO: randomize priorName, estimation, and priorParams, and possibly other slots


**********
Help files
**********

Help files have been included for the following functions in the package:
- probability, likelihood, estimateTheta, estimateSE, prior, catBiCreator, catPolyCreator, setGuessing, setDiscrimination, (other setters)

TO DO: add help files to rest of functions
TO DO: get help files to link to each other (under “See Also”)


*************
Documentation 
*************

The following updates need to be made to the master documentation file:
—definitions of applicable_rows and non_applicable rows - needs to be reversed
-resolve whether the slot is named ‘estimation’ or ‘estimation_method’
—polytomous probability - is actually ‘probability of a response in category strictly higher than k (currently says k or higher)
—polytomous likelihood (3.1.2 paragraph 1) - says ‘discrimination’ parameters, should say ‘difficulty’/‘threshold’
—9.1 FisherInf: there is an alpha where it should just be an ‘a’
—estimation_method (p2) says only current valid value is EAP
—polytomous likelihood - says P*_ijC_i, should say P*_ijK_i
-for polytomous likelihood: we have dropped the ‘D’ value; and we are now using the absolute value of ‘a’ (discrimination)
-likelihood no longer takes an ‘items’ argument; instead, it runs on all question items that have been answered (ie. that are not NA)


***********
Probability
***********

Binary and polytomous probability functions both pass robust tests. 
Problem with discrimination values: when discrimination is negative, probability values within a given question item of a polytomous Cat are increasing with higher response categories. 

TO DO: Use absolute value of discrimination, rather than just discrimination, and make corresponding change to Likelihood function.


**********
Likelihood
**********

Binary likelihood function passes robust test. Polytomous does not, for reasons TBD.

TO DO: For question items for which discrimination is negative, need to reverse the order of the “exact probability” vector (the vector of probabilities of a response in exactly response category k; see equation (4) in the documentation)

